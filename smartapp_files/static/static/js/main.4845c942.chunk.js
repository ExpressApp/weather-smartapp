(this["webpackJsonpbase-app"]=this["webpackJsonpbase-app"]||[]).push([[0],{58:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),i=n(28),s=n.n(i),l=n(10),o=n(25),u=(n(58),n(31)),d=n(24),j=n(27),b=n.n(j),O=n(43),p=n.n(O),v=(n(69),n.p+"static/media/iconClose.12207cd1.svg"),h=n.p+"static/media/iconCloseRound.1c4d5cb3.svg",f=n.p+"static/media/iconCloudyDay.0059aebf.svg",m=n.p+"static/media/iconRainyDay.7e609283.svg",x=n.p+"static/media/iconSnowfall.282e3f04.svg",_=n.p+"static/media/iconSunny.49cd5281.svg",w=n(19),y=Object(w.a)([function(e){return e.weatherApp.weather}],(function(e){return e})),N=Object(w.a)([function(e){return e.weatherApp.cities}],(function(e){return e})),S=Object(w.a)([function(e){return e.weatherApp.city}],(function(e){return e})),g=Object(w.a)([function(e){return e.weatherApp.openSearch}],(function(e){return e})),E=n(78),C="SET_OPEN_SEARCH",k="LOAD_WEATHER",A="LOAD_WEATHER_SUCCESS",T="LOAD_CITIES",L="LOAD_CITIES_SUCCESS",D="LOAD_CITY_SUCCESS",I="LOAD_INITIAL_STATE",R=Object(E.a)(C,(function(e){return e})),B=Object(E.a)(k,(function(e){return e})),W=Object(E.a)(A,(function(e){return e})),F=Object(E.a)(T,(function(e){return e})),H=Object(E.a)(D,(function(e){return e})),K=Object(E.a)(L,(function(e){return e})),M=Object(E.a)(I),P=(n(70),Object(w.a)([function(e){return e.ui.topLoader}],(function(e){return e}))),U=Object(w.a)([function(e){return e.ui.mainLoader}],(function(e){return e}));function J(){var e=Object(l.e)(P),t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(d.a)(s,2),u=o[0],j=o[1],O=Object(c.useState)(!1),p=Object(d.a)(O,2),v=p[0],h=p[1],f=Object(c.useRef)(null),m=Object(c.useRef)(null);return Object(c.useEffect)((function(){e&&!r&&i(!0),!e&&r&&(i(!1),j(!0),f.current=setTimeout((function(){h(!0),m.current=setTimeout((function(){j(!1),h(!1)}),100)}),200))}),[e,r]),Object(c.useEffect)((function(){return function(){f.current&&clearTimeout(f.current),m.current&&clearTimeout(m.current)}}),[]),Object(a.jsx)("div",{className:b()({"top-loader":!0,"top-loader--enabled":r&&!v}),children:Object(a.jsx)("div",{className:b()({"top-loader__bar":!0,"top-loader__bar--start":r,"top-loader__bar--stop":u,"top-loader__bar--finish":v})})})}n(71);function Y(){return Object(l.e)(U)?Object(a.jsx)("div",{className:"main-loader",children:Object(a.jsxs)("div",{className:"main-loader__spinner",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})}):null}function q(){var e=r.a.useState(""),t=Object(d.a)(e,2),n=t[0],i=t[1],s=r.a.useRef(),o=Object(l.d)(),u=Object(l.e)(y),j=Object(l.e)(N),O=Object(l.e)(S),w=Object(l.e)(g);Object(c.useEffect)((function(){o(M())}),[o]),Object(c.useEffect)((function(){var e;w&&(null===s||void 0===s||null===(e=s.current)||void 0===e||e.focus())}),[w]);var E=p()((function(e){var t=e.target.value;t.length>=3&&!n.includes(t)&&o(F(t)),i(t)}),1e3,{leading:!0}),C=function(){!O&&w||(n.length||o(K([])),o(R(!w)))},k=function(){i(""),o(K([]))};return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(J,{}),Object(a.jsx)("header",{className:"app__header",children:Object(a.jsx)("button",{className:"app__btn-menu app__btn-menu--dotted",onClick:C,children:Object(a.jsx)("span",{className:"sr-only",children:"Open menu"})})}),Object(a.jsx)("main",{className:"app__main",children:O&&u&&Object(a.jsxs)("section",{className:"weather",children:[Object(a.jsx)("img",{className:"weather__icon",src:function(e){var t=e.toLowerCase();switch(!0){case t.includes("sun")||t.includes("clear"):return _;case t.includes("rain"):return m;case t.includes("snow")||t.includes("sleet"):return x;default:return f}}(u.text),alt:""}),Object(a.jsx)("strong",{className:"weather__title",children:u.text}),O&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"weather__location",children:O}),Object(a.jsx)("div",{className:"weather__info",children:Object(a.jsxs)("div",{className:"weather-info",children:[Object(a.jsxs)("div",{className:"weather-info__item",children:[Object(a.jsxs)("strong",{className:"weather-info__title",children:[u.temp||0,"\xb0"]}),Object(a.jsx)("span",{className:"weather-info__desc",children:"Feels like"})]}),u.wind&&Object(a.jsxs)("div",{className:"weather-info__item",children:[Object(a.jsxs)("strong",{className:"weather-info__title",children:[u.wind," km/h"]}),Object(a.jsx)("span",{className:"weather-info__desc",children:"Wind speed"})]})]})})]})]})}),Object(a.jsx)("aside",{className:b()({app__aside:!0,"app__aside--show":w}),children:Object(a.jsxs)("section",{className:"weather-search",children:[Object(a.jsxs)("header",{className:"weather-search__header",children:[Object(a.jsx)("strong",{className:"weather-search__title",children:"Choose city"}),Object(a.jsx)("button",{className:"app__btn-menu weather-search__btn-close",onClick:C,children:Object(a.jsx)("img",{width:18,height:18,src:v,alt:"close"})})]}),Object(a.jsxs)("div",{className:"weather-search-input",children:[Object(a.jsx)("input",{ref:s,onChange:E,onKeyDown:function(e){"Enter"===e.key&&o(F(n))},className:"weather-search-input__field",placeholder:"Search",autoFocus:!0,value:n}),!!n.length&&Object(a.jsx)("button",{onClick:k,className:"app__btn-menu weather-search-input__btn-clear",children:Object(a.jsx)("img",{width:14,height:14,src:h,alt:"close"})})]}),Object(a.jsx)("ul",{className:"weather-search-suggestion",children:j.map((function(e){return Object(a.jsx)("li",{onClick:function(){var t;t=null===e||void 0===e?void 0:e.name,o(B(t)),k(),C()},className:"weather-search-suggestion__item",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})}),Object(a.jsx)(Y,{})]})}function z(){return Object(a.jsx)(u.c,{children:Object(a.jsx)(u.a,{path:"/",children:Object(a.jsx)(q,{})})})}var G,Q,V=n(18),X=n(41),Z=n(44),$=n(48),ee=n(17),te=Object(ee.a)(),ne=n(14),ae=n(8),ce=n(77),re=(G={},Object(ne.a)(G,k,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{city:n,weather:{temp:null,wind:null,text:""}})})),Object(ne.a)(G,A,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{weather:Object(ae.a)({},n)})})),Object(ne.a)(G,L,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{cities:n})})),Object(ne.a)(G,D,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{city:n})})),Object(ne.a)(G,C,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{openSearch:n})})),G),ie=Object(ce.a)(re,{cities:[],weather:{temp:null,wind:null,text:""},city:null,openSearch:!1}),se="SET_TOP_LOADER",le="SET_MAIN_LOADER",oe=Object(E.a)(se,(function(e){return e})),ue=Object(E.a)(le,(function(e){return e})),de=(Q={},Object(ne.a)(Q,se,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{topLoader:n})})),Object(ne.a)(Q,le,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{mainLoader:n})})),Q),je=Object(ce.a)(de,{topLoader:!1,mainLoader:!1}),be=Object(V.combineReducers)({weatherApp:ie,ui:je,router:Object(o.b)(te)}),Oe=n(13),pe=n.n(Oe),ve=n(6),he=n(11),fe="current_weather",me="cities_autocomplete",xe="initial_state",_e="ready",we=pe.a.mark(ge),ye=pe.a.mark(Ee),Ne=pe.a.mark(Ce),Se=pe.a.mark(ke);function ge(e){var t,n,a,c,r,i,s,l,o,u,d,j,b,O,p,v,h,f,m;return pe.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return t=e.payload,x.prev=1,x.next=4,Object(ve.c)(ue(!0));case 4:return x.next=6,null===he.a||void 0===he.a?void 0:he.a.sendBotEvent({method:fe,params:{city:t}});case 6:return f=x.sent,m={temp:(null===f||void 0===f||null===(n=f.payload)||void 0===n||null===(a=n.result)||void 0===a||null===(c=a.weather)||void 0===c?void 0:c.temp_c)||(null===f||void 0===f||null===(r=f.payload)||void 0===r||null===(i=r.result)||void 0===i||null===(s=i.weather)||void 0===s?void 0:s.tempC)||null,wind:(null===f||void 0===f||null===(l=f.payload)||void 0===l||null===(o=l.result)||void 0===o||null===(u=o.weather)||void 0===u?void 0:u.wind_kph)||(null===f||void 0===f||null===(d=f.payload)||void 0===d||null===(j=d.result)||void 0===j||null===(b=j.weather)||void 0===b?void 0:b.windKph)||null,text:(null===f||void 0===f||null===(O=f.payload)||void 0===O||null===(p=O.result)||void 0===p||null===(v=p.weather)||void 0===v||null===(h=v.condition)||void 0===h?void 0:h.text)||""},x.next=10,Object(ve.c)(W(m));case 10:return x.next=12,Object(ve.c)(K([]));case 12:return x.next=14,Object(ve.c)(R(!1));case 14:x.next=19;break;case 16:x.prev=16,x.t0=x.catch(1),console.error("loadWeatherSaga error: ".concat(x.t0));case 19:return x.prev=19,x.next=22,Object(ve.c)(ue(!1));case 22:return x.finish(19);case 23:case"end":return x.stop()}}),we,null,[[1,16,19,23]])}function Ee(e){var t,n,a,c;return pe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(ve.c)(oe(!0));case 4:return r.next=6,null===he.a||void 0===he.a?void 0:he.a.sendBotEvent({method:me,params:{city:t}});case 6:return c=r.sent,r.next=9,Object(ve.c)(K((null===(n=c.payload)||void 0===n||null===(a=n.result)||void 0===a?void 0:a.cities)||[]));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),console.error("loadCitiesSaga error: ".concat(r.t0));case 14:return r.prev=14,r.next=17,Object(ve.c)(oe(!1));case 17:return r.finish(14);case 18:case"end":return r.stop()}}),ye,null,[[1,11,14,18]])}function Ce(){var e,t,n,a,c,r,i,s,l,o,u,d,j,b,O,p,v,h,f,m;return pe.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,Object(ve.c)(ue(!0));case 3:return null===he.a||void 0===he.a||he.a.sendBotEvent({method:_e,params:{}}),x.next=6,null===he.a||void 0===he.a?void 0:he.a.sendBotEvent({method:xe,params:{},timeout:3e3});case 6:if(f=x.sent,null===(e=f.payload)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.city){x.next=11;break}return x.next=10,Object(ve.c)(R(!0));case 10:return x.abrupt("return");case 11:return m={temp:(null===f||void 0===f||null===(n=f.payload)||void 0===n||null===(a=n.result)||void 0===a||null===(c=a.weather)||void 0===c?void 0:c.temp_c)||(null===f||void 0===f||null===(r=f.payload)||void 0===r||null===(i=r.result)||void 0===i||null===(s=i.weather)||void 0===s?void 0:s.tempC)||null,wind:(null===f||void 0===f||null===(l=f.payload)||void 0===l||null===(o=l.result)||void 0===o||null===(u=o.weather)||void 0===u?void 0:u.wind_kph)||(null===f||void 0===f||null===(d=f.payload)||void 0===d||null===(j=d.result)||void 0===j||null===(b=j.weather)||void 0===b?void 0:b.windKph)||null,text:(null===(O=f.payload)||void 0===O||null===(p=O.result)||void 0===p?void 0:p.weather.condition.text)||""},x.next=14,Object(ve.c)(H(null===(v=f.payload)||void 0===v||null===(h=v.result)||void 0===h?void 0:h.city));case 14:return x.next=16,Object(ve.c)(W(m));case 16:x.next=23;break;case 18:return x.prev=18,x.t0=x.catch(0),console.error("loadInitialStateSaga error: ",x.t0),x.next=23,Object(ve.c)(R(!0));case 23:return x.prev=23,x.next=26,Object(ve.c)(ue(!1));case 26:return x.finish(23);case 27:case"end":return x.stop()}}),Ne,null,[[0,18,23,27]])}function ke(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Object(ve.d)(k,ge),Object(ve.d)(T,Ee),Object(ve.d)(I,Ce)]);case 2:case"end":return e.stop()}}),Se)}var Ae=pe.a.mark(Te);function Te(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Object(ve.b)(ke)]);case 2:case"end":return e.stop()}}),Ae)}var Le=Te;var De=function(e){var t=Object($.a)(),n=Object(X.a)(te),a=Object(V.createStore)(be,e,Object(Z.composeWithDevTools)(Object(V.applyMiddleware)(t,n)));return t.run(Le).toPromise().catch((function(e){return console.error("Saga error",e)})),a}();s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{store:De,children:Object(a.jsx)(o.a,{history:te,children:Object(a.jsx)(z,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.4845c942.chunk.js.map